# üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø GET /api/tasks/{taskId}

## üß™ –¢–µ—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω: 26.11.2025

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:
- **URL**: `GET /api/tasks/691ac7f8414bdf8758b7b393`
- **Task ID**: `691ac7f8414bdf8758b7b393`
- **User ID –∏–∑ —Ç–æ–∫–µ–Ω–∞**: `566187953`

---

## üìã –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:

### ‚úÖ –¢–µ—Å—Ç 1: GET —Å Authorization header (Bearer token)
- **–°—Ç–∞—Ç—É—Å**: `403 Forbidden`
- **–û—à–∏–±–∫–∞**: `Invalid Telegram signature`
- **–ü—Ä–∏—á–∏–Ω–∞**: –¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∏ Telegram (–≤–æ–∑–º–æ–∂–Ω–æ —É—Å—Ç–∞—Ä–µ–ª –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π TELEGRAM_BOT_ID)

### ‚ùå –¢–µ—Å—Ç 2: GET —Å userId –≤ query
- **URL**: `GET /api/tasks/691ac7f8414bdf8758b7b393?userId=566187953`
- **–°—Ç–∞—Ç—É—Å**: `401 Unauthorized`
- **–û—à–∏–±–∫–∞**: `Authorization header missing or invalid`
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–æ–≤–µ—Ä–∫–∞ `userId` –≤ query –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:

### –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏ 401:
–ü—Ä–æ–≤–µ—Ä–∫–∞ `userId` –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö **–Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. **–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –≤ Docker** —Å `NODE_ENV=production`
2. **–ö–æ–¥ –Ω–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω** - Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑ –±–µ–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ `userId` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `src/index.ts`, –Ω–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `dist/index.js`

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd C:\roma\face\old-back\facebase-back
docker compose down
docker compose build --no-cache app
docker compose up -d
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ npm run dev
```bash
cd C:\roma\face\old-back\facebase-back
npm run dev
```

–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞ (tsx watch).

---

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ userId –¥–ª—è `/api/tasks`** –≤ `src/index.ts`:
   - –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω `userId` –≤ query –∏–ª–∏ body, –∑–∞–ø—Ä–æ—Å –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –≤ production —Ä–µ–∂–∏–º–µ (Docker)

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ userId –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ –ü–ï–†–ï–î –ø—Ä–æ–≤–µ—Ä–∫–æ–π isDevMode**:
   - –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã

---

## üìù –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ Docker –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ:

```http
GET /api/tasks/691ac7f8414bdf8758b7b393?userId=566187953
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°—Ç–∞—Ç—É—Å: `200 OK`
- ‚úÖ –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `task` –∏ `submission` (–µ—Å–ª–∏ submission —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –í –ª–æ–≥–∞—Ö: `üîì Public access (via userId): GET /api/tasks/... - userId: 566187953`

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Docker** –∏–ª–∏ **–∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ**
2. **–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç**:
   ```bash
   node test-simple-get.js
   ```
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
   ```
   üîì Public access (via userId): GET /api/tasks/... - userId: 566187953
   ```

---

## üìÑ –§–∞–π–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- `test-simple-get.js` - –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç GET –∑–∞–ø—Ä–æ—Å–∞
- `test-get-task.js` - –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å Authorization header –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤

---

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∞**: 26.11.2025  
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ Docker –∏–ª–∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

